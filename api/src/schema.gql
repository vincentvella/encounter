# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type User {
  id: String!
  fbUserId: String
  phoneNumber: String
  role: String!
  password: String!
}

type CheckResponse {
  request_id: String!
  event_id: String!
  status: String!
  price: String!
  currency: String!
  access_token: String
}

type Login {
  access_token: String
}

type Profile {
  id: String!
  userId: String!
  email: String!
  firstName: String!
  lastName: String!
}

type RemoveProfile {
  status: String!
}

type Room {
  """Room Id"""
  id: String!

  """Room Profile 1 ID"""
  profile1Id: String!

  """Room Profile 2 ID"""
  profile2Id: String!

  """Room Profile 1 ID"""
  profile1: Profile!

  """Room Profile 2 ID"""
  profile2: String!
}

type PendingRoom {
  waiting: Boolean!
}

type UserWaiting {
  """User Waiting ID"""
  id: Int!
  profile: Profile!
  profileId: String!
  queuedAt: String!
}

type Query {
  findUser(number: String!): User
  login(password: String!, number: String!): Login!
  signUp(password: String!, number: String!): SignUp
  verifyCode(code: String!, request_id: String!): CheckResponse
  findAllProfiles: [Profile!]!
  findProfile: Profile
  waitForRoom: PendingRoom!
  room(id: Int!): Room!
  userWaiting(id: Int!): UserWaiting!
}

union SignUp = RequestResponse | Login

type RequestResponse {
  request_id: String!
  status: String!
}

type Mutation {
  createUser(data: CreateUserDTO!): User!
  createProfile(data: CreateProfileDto!): Profile!
  updateProfile(profile: UpdateProfileDto!, id: String!): Profile!
  removeProfile(id: String!): RemoveProfile!
  createRoom(createRoomInput: CreateRoomInput!): Room!
  updateRoom(updateRoomInput: UpdateRoomInput!): Room!
  removeRoom(id: Int!): Room!
  createUserWaiting(ProfileId: String!): UserWaiting!
  removeUserWaiting(id: Int!): UserWaiting!
}

input CreateUserDTO {
  phoneNumber: String
  fbUserId: String
  password: String!
}

input CreateProfileDto {
  email: String!
  firstName: String!
  lastName: String!
}

input UpdateProfileDto {
  email: String!
  firstName: String!
  lastName: String!
}

input CreateRoomInput {
  """Matcher id"""
  profile1Id: String!

  """Matchee id"""
  profile2Id: String!
}

input UpdateRoomInput {
  """Matcher id"""
  profile1Id: String

  """Matchee id"""
  profile2Id: String
  id: Int!
}

type Subscription {
  roomCreated: Room
}
